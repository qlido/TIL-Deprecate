<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>

<div id="wrapper">
  <h1 id="title">Lotto</h1>
  <div id = "numbers" class="numbers">
    <div class="ball blue">?</div>
    <div class="ball blue">?</div>
    <div class="ball blue">?</div>
    <div class="ball red">?</div>
    <div class="ball red">?</div>
    <div class="ball grey">?</div>
    <div class="plus">+</div>
    <div class="ball bonus">?</div>
  </div>


  <button id="btn">시작!</button>
</div>
<script>
  let tmp = 1;
  let numbers;
  let ranlist = [];

  function decryptEffect(element, time) {
    const effect = setInterval(() => {
      element.innerText = Math.floor(Math.random() * 44 + 1);
    }, 10);

    setTimeout(() => {
      const random = Math.floor(Math.random() * numbers.length);

      clearInterval(effect);
      element.classList.add("done");
      element.innerText = numbers[random]
      ranlist.push(numbers[random]);
      numbers.splice(random, 1);
    }, time * 1000 + 1000);
  }

  function lottery() {
    document.querySelectorAll("#numbers .ball").forEach((element, index) => {
      element.classList.remove("done");
      decryptEffect(element, index);
    });
  }

  document.getElementById("btn").addEventListener("click", function () {
    ranlist = [];
    if (tmp === 1) {
      numbers = Array.from({ length: 45 }, (_, i) => i + 1);
      tmp = 0;
      btn.classList.add("hide");
      lottery();
      setTimeout(function () {
        (tmp = 1), btn.classList.remove("hide");
      }, 7500);
    }
  });
</script>
</body>
</html>